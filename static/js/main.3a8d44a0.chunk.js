(this["webpackJsonppchic-contactplotviewer"]=this["webpackJsonppchic-contactplotviewer"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(5),o=n.n(r),s=(n(14),n(15),n(7),n(4)),l=n(3),a=n(2),u=Object(a.b)({name:"assets",initialState:{cellType1:"aCD4",cellType2:"naCD4",gene:"IL7R"},reducers:{setCellType1:function(e,t){e.cellType1=t.payload},setCellType2:function(e,t){e.cellType2=t.payload},setGene:function(e,t){e.gene=t.payload}}}),j=u.actions,b=j.setCellType1,h=j.setCellType2,d=j.setGene,g=u.reducer,p=Object(a.b)({name:"info",initialState:{visible:!1},reducers:{setVisible:function(e,t){e.visible=t.payload}}}),m=p.actions.setVisible,f=p.reducer,x=n(0),O=function(){var e=Object(l.c)((function(e){return e.assets})),t=Object(c.useState)([]),n=Object(s.a)(t,2),i=n[0],r=n[1],o=Object(c.useState)("IL7R"),u=Object(s.a)(o,2),j=u[0],g=u[1],p=Object(c.useState)(!1),f=Object(s.a)(p,2),O=f[0],y=f[1],C=Object(l.b)(),w=["aCD4","EP","Ery","FoeT","Mac0","Mac1","Mac2","MK","Mon","naCD4","nB","nCD4","nCD8","Neu","tB","tCD8"].map((function(t){return Object(x.jsx)("button",{disabled:!O,className:e.cellType1===t||e.cellType2===t?"button":"muted-button",onClick:function(){return function(e){if(!i.includes(e)){var t=i;t.push(e),r(t)}2===i.length&&(y(!1),C(b(i[0])),C(h(i[1])))}(t)},style:{margin:"3px",padding:"8px"},children:t},Object(a.c)())}));return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"flex-row",style:{width:"100%",marginTop:"0.5rem",marginLeft:"0.5rem"},children:[Object(x.jsx)("button",{style:{margin:"3px"},onClick:function(){y(!0),r([])},className:"accent-button",children:O?"Select two...":"Reselect Cell Types"}),w,Object(x.jsx)("button",{className:"round-button",onClick:function(){C(m(!0))},style:{borderColor:"mediumpurple",backgroundColor:"mediumpurple",margin:"3px",padding:"12px",marginLeft:"6px"},children:"Figure Info"})]}),Object(x.jsxs)("div",{className:"flex-row",style:{width:"100%",marginTop:"0.5rem",marginLeft:"0.5rem"},children:[Object(x.jsx)("input",{style:{color:"antiquewhite",flexBasis:"50%",marginLeft:"0.2rem",marginTop:"0.2rem"},placeholder:j,type:"text",onChange:function(e){g(e.target.value)}}),Object(x.jsx)("button",{style:{marginLeft:"10px",marginTop:"0.2rem"},onClick:function(){C(d(j))},children:"Choose Gene"}),Object(x.jsx)("button",{className:"round-button",style:{marginLeft:"10px",marginTop:"0.2rem",borderColor:"mediumpurple",backgroundColor:"mediumpurple"},onClick:function(){return C(d("ERROR3"))},children:"Search Genes"})]})]})},y=function(){var e=Object(l.c)((function(e){return e.assets})),t=Object(l.c)((function(e){return e.geneList.geneList})),n=Object(l.b)(),i=Object(c.useState)(""),r=Object(s.a)(i,2),o=r[0],u=r[1],j=Object(c.useState)(1001),b=Object(s.a)(j,2),h=b[0],g=b[1],p=Object(c.useState)(""),m=Object(s.a)(p,2),f=m[0],O=m[1],y=e.gene.replace(";","%3B"),C=["aCD4","EP","Ery","FoeT","Mac0"].includes(e.cellType1)?"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage/main/"+e.cellType1+"/"+y+".jpg":["Mac1","Mac2","MK","Mon","naCD4","nB"].includes(e.cellType1)?"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage2/main/"+e.cellType1+"/"+y+".jpg":"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage3/main/"+e.cellType1+"/"+y+".jpg",w=["aCD4","EP","Ery","FoeT","Mac0"].includes(e.cellType2)?"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage/main/"+e.cellType2+"/"+y+".jpg":["Mac1","Mac2","MK","Mon","naCD4","nB"].includes(e.cellType2)?"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage2/main/"+e.cellType2+"/"+y+".jpg":"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage3/main/"+e.cellType2+"/"+y+".jpg";function R(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!==t.status}function T(e,t){return!!e.startsWith(t)||e.split(";").some((function(e){return e.startsWith(t)}))}function v(){return""===o?20701:t.filter((function(e){return T(e.toLowerCase(),o.toLowerCase())})).length}function S(e){navigator.clipboard.writeText(e).then((function(){console.log("Set clipboard")})).catch((function(){console.log("Error")})),O(e),console.log("flashing on"),setTimeout((function(){O(""),console.log("flashing off")}),750)}"ERROR3"===e.gene||R(C)&&R(w)||n(d("ERROR"));var k=[];if(""===o)for(var L=h-1001;L<h;L+=10){var M=Object(x.jsx)("tr",{children:t.slice(L,L+10).map((function(e){return f===e?Object(x.jsx)("td",{onClick:function(){return S(e)},className:"tdAnim",style:{fontSize:"0.85rem",textAlign:"center",overflow:"hidden"},children:e},Object(a.c)()):Object(x.jsx)("td",{onClick:function(){return S(e)},style:{fontSize:"0.85rem",textAlign:"center",overflow:"hidden"},children:e},Object(a.c)())}))});k.push(M)}else for(var D=t.filter((function(e){return T(e.toLowerCase(),o.toLowerCase())})),E=h-1001;E<Math.min(h,D.length);E+=10){var G=E+10<=D.length?10:D.length-E,N=Object(x.jsx)("tr",{children:D.slice(E,E+G).map((function(e){return f===e?Object(x.jsx)("td",{onClick:function(){return S(e)},className:"tdAnim",style:{fontSize:"0.85rem",textAlign:"center",overflow:"hidden"},children:e},Object(a.c)()):Object(x.jsx)("td",{onClick:function(){return S(e)},style:{fontSize:"0.85rem",textAlign:"center",overflow:"hidden"},children:e},Object(a.c)())}))});k.push(N)}return Object(x.jsxs)(x.Fragment,{children:["ERROR"!==e.gene&&"ERROR3"!==e.gene&&Object(x.jsxs)("div",{className:"flex-row",style:{width:"100%",marginTop:"0.5rem",marginLeft:"0.5rem"},children:[Object(x.jsx)("h2",{style:{color:"antiquewhite",marginTop:"19%",marginRight:"10px"},children:e.cellType1}),Object(x.jsx)("img",{style:{width:"38%",height:"38%",margin:"10px",borderRadius:"10px"},src:C,alt:""}),Object(x.jsx)("img",{style:{width:"38%",height:"38%",margin:"10px",borderRadius:"10px"},src:w,alt:""}),Object(x.jsx)("h2",{style:{color:"antiquewhite",marginTop:"19%",marginLeft:"10px"},children:e.cellType2})]}),("ERROR"===e.gene||"ERROR3"===e.gene)&&Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center"},children:[Object(x.jsx)("h3",{style:{color:"antiquewhite"},children:"ERROR3"!==e.gene?"That gene isn't available in at least one of the requested cell types. Search for another gene below (click to copy the gene name), or choose different cell types and reselect your gene.":"Find a gene to examine with the tool below (click to copy the gene name)."}),Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)("input",{type:"text",placeholder:"Start typing a gene to search",onChange:function(e){u(e.target.value),g(1001)},style:{color:"antiquewhite",width:"20%",alignSelf:"center"}}),Object(x.jsx)("button",{style:{marginLeft:"8px"},onClick:function(){return u("")},children:"Clear"})]}),Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)("button",{disabled:1001===h,onClick:function(){return g(h-1e3)},style:1001===h?{marginTop:"1%",marginBottom:"1%",marginRight:"10%",backgroundColor:"gray",borderColor:"gray"}:{marginTop:"1%",marginBottom:"1%",marginRight:"10%"},children:"Previous 1000 items"}),Object(x.jsxs)("h5",{style:{color:"antiquewhite"},children:["Available Genes (showing ",h-1e3," to ",h-1,")"]}),Object(x.jsx)("button",{disabled:h>v(),onClick:function(){return g(h+1e3)},style:h>v()?{marginTop:"1%",marginBottom:"1%",marginLeft:"10%",backgroundColor:"gray",borderColor:"gray"}:{marginTop:"1%",marginBottom:"1%",marginLeft:"10%"},children:"Next 1000 items"})]}),Object(x.jsxs)("table",{style:{width:"94%",marginLeft:"3%",marginRight:"3%",tableLayout:"fixed",wordBreak:"break-all"},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{})]})}),Object(x.jsx)("tbody",{children:k}),Object(x.jsx)("tfoot",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{})]})})]})]})]})};var C=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.assets.assetType})),n=Object(l.c)((function(e){return e.info.visible}));return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"App",style:n?{transition:"filter 0.3s ease-out",filter:"blur(10px) opacity(50%) brightness(50%)"}:{transition:"filter 0.3s ease-in"},children:[Object(x.jsx)(O,{}),Object(x.jsx)(y,{})]}),n&&Object(x.jsxs)("div",{style:{borderRadius:"15px",position:"absolute",top:"25vh",left:"25vw",width:"50%",backgroundColor:"gray",textAlign:"center"},children:[Object(x.jsx)("h3",{style:{color:"antiquewhite"},children:t}),Object(x.jsx)("p",{style:{margin:"3%"},children:"These plots depict the raw counts of PC-HiC observed interactions vs genomic distance from the bait locus. The p-values corresponding to the determined significance of each interaction are also plotted in red on a negative log scale."}),Object(x.jsx)("button",{onClick:function(){return e(m(!1))},style:{marginBottom:"3%"},children:"Close"})]})]})},w=new XMLHttpRequest;w.open("GET","/pchic-contactplotviewer/geneList/genes.txt",!1),w.send();var R={geneList:w.responseText.split(", ").map((function(e){return e.substring(0,e.length-4)}))},T=Object(a.b)({name:"geneList",initialState:R,reducers:{setGeneList:function(e,t){e.geneList=t.payload}}}),v=(T.actions.setGeneList,T.reducer),S=Object(a.a)({reducer:{assets:g,info:f,geneList:v}});o.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(l.a,{store:S,children:Object(x.jsx)(C,{})})}),document.getElementById("root"))},7:function(e,t,n){}},[[21,1,2]]]);
//# sourceMappingURL=main.3a8d44a0.chunk.js.map