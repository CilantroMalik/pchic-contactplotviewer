(this["webpackJsonppchic-contactplotviewer"]=this["webpackJsonppchic-contactplotviewer"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(5),o=n.n(r),s=(n(14),n(15),n(7),n(4)),a=n(3),l=n(2),j=Object(l.b)({name:"assets",initialState:{cellType1:"aCD4",cellType2:"naCD4",gene:"IL7R"},reducers:{setCellType1:function(e,t){e.cellType1=t.payload},setCellType2:function(e,t){e.cellType2=t.payload},setGene:function(e,t){e.gene=t.payload}}}),u=j.actions,b=u.setCellType1,h=u.setCellType2,d=u.setGene,g=j.reducer,p=Object(l.b)({name:"info",initialState:{visible:!1},reducers:{setVisible:function(e,t){e.visible=t.payload}}}),m=p.actions.setVisible,x=p.reducer,O=n(0),f=function(){var e=Object(a.c)((function(e){return e.assets})),t=Object(c.useState)([]),n=Object(s.a)(t,2),i=n[0],r=n[1],o=Object(c.useState)("IL7R"),j=Object(s.a)(o,2),u=j[0],g=j[1],p=Object(c.useState)(!1),x=Object(s.a)(p,2),f=x[0],y=x[1],C=Object(a.b)(),R=["aCD4","EP","Ery","FoeT","Mac0","Mac1","Mac2","MK","Mon","naCD4","nB","nCD4","nCD8","Neu","tB","tCD8"].map((function(t){return Object(O.jsx)("button",{disabled:!f,className:e.cellType1===t||e.cellType2===t?"button":"muted-button",onClick:function(){return function(e){if(!i.includes(e)){var t=i;t.push(e),r(t)}2===i.length&&(y(!1),C(b(i[0])),C(h(i[1])))}(t)},style:{margin:"3px",padding:"8px"},children:t},Object(l.c)())}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"flex-row",style:{width:"100%",marginTop:"0.5rem",marginLeft:"0.5rem"},children:[Object(O.jsx)("button",{style:{margin:"3px"},onClick:function(){y(!0),r([])},className:"accent-button",children:f?"Select two...":"Reselect Cell Types"}),R,Object(O.jsx)("button",{className:"round-button",onClick:function(){C(m(!0))},style:{borderColor:"mediumpurple",backgroundColor:"mediumpurple",margin:"3px",padding:"12px",marginLeft:"6px"},children:"Figure Info"})]}),Object(O.jsxs)("div",{className:"flex-row",style:{width:"100%",marginTop:"0.5rem",marginLeft:"0.5rem"},children:[Object(O.jsx)("input",{style:{color:"antiquewhite",flexBasis:"50%",marginLeft:"0.2rem",marginTop:"0.2rem"},placeholder:u,type:"text",onChange:function(e){g(e.target.value)}}),Object(O.jsx)("button",{style:{marginLeft:"10px",marginTop:"0.2rem"},onClick:function(){C(d(u))},children:"Choose Gene"}),Object(O.jsx)("button",{className:"round-button",style:{marginLeft:"10px",marginTop:"0.2rem",borderColor:"mediumpurple",backgroundColor:"mediumpurple"},onClick:function(){return C(d("ERROR3"))},children:"Search Genes"})]})]})},y=function(){var e=Object(a.c)((function(e){return e.assets})),t=Object(a.c)((function(e){return e.geneList.geneList})),n=Object(a.b)(),i=Object(c.useState)(""),r=Object(s.a)(i,2),o=r[0],j=r[1],u=Object(c.useState)(1001),b=Object(s.a)(u,2),h=b[0],g=b[1],p=e.gene.replace(";","%3B"),m=["aCD4","EP","Ery","FoeT","Mac0"].includes(e.cellType1)?"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage/main/"+e.cellType1+"/"+p+".jpg":["Mac1","Mac2","MK","Mon","naCD4","nB"].includes(e.cellType1)?"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage2/main/"+e.cellType1+"/"+p+".jpg":"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage3/main/"+e.cellType1+"/"+p+".jpg",x=["aCD4","EP","Ery","FoeT","Mac0"].includes(e.cellType2)?"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage/main/"+e.cellType2+"/"+p+".jpg":["Mac1","Mac2","MK","Mon","naCD4","nB"].includes(e.cellType2)?"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage2/main/"+e.cellType2+"/"+p+".jpg":"https://raw.githubusercontent.com/RohanMalikRCDS/GenomeWideContactPlotStorage3/main/"+e.cellType2+"/"+p+".jpg";function f(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!==t.status}function y(e,t){return e.split(";").some((function(e){return e.startsWith(t)}))}function C(){return""===o?20701:t.filter((function(e){return y(e.toLowerCase(),o.toLowerCase())})).length}"ERROR3"===e.gene||f(m)&&f(x)||n(d("ERROR"));var R=[];if(""===o)for(var w=h-1001;w<h;w+=10){var T=Object(O.jsx)("tr",{children:t.slice(w,w+10).map((function(e){return Object(O.jsx)("td",{style:{fontSize:"0.85rem",textAlign:"center",overflow:"hidden"},children:e},Object(l.c)())}))});R.push(T)}else for(var v=t.filter((function(e){return y(e.toLowerCase(),o.toLowerCase())})),L=h-1001;L<Math.min(h,v.length);L+=10){var S=L+10<=v.length?10:v.length-L,M=Object(O.jsx)("tr",{children:v.slice(L,L+S).map((function(e){return Object(O.jsx)("td",{style:{fontSize:"0.85rem",textAlign:"center",overflow:"hidden"},children:e},Object(l.c)())}))});R.push(M)}return Object(O.jsxs)(O.Fragment,{children:["ERROR"!==e.gene&&"ERROR3"!==e.gene&&Object(O.jsxs)("div",{className:"flex-row",style:{width:"100%",marginTop:"0.5rem",marginLeft:"0.5rem"},children:[Object(O.jsx)("h2",{style:{color:"antiquewhite",marginTop:"19%",marginRight:"10px"},children:e.cellType1}),Object(O.jsx)("img",{style:{width:"38%",height:"38%",margin:"10px",borderRadius:"10px"},src:m,alt:""}),Object(O.jsx)("img",{style:{width:"38%",height:"38%",margin:"10px",borderRadius:"10px"},src:x,alt:""}),Object(O.jsx)("h2",{style:{color:"antiquewhite",marginTop:"19%",marginLeft:"10px"},children:e.cellType2})]}),("ERROR"===e.gene||"ERROR3"===e.gene)&&Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center"},children:[Object(O.jsx)("h3",{style:{color:"antiquewhite"},children:"ERROR3"!==e.gene?"That gene isn't available in at least one of the requested cell types. Search for another gene below, or choose different cell types and reselect your gene.":"Find a gene to examine with the tool below."}),Object(O.jsxs)("div",{className:"flex-row",children:[Object(O.jsx)("input",{type:"text",placeholder:"Start typing a gene to search",onChange:function(e){j(e.target.value),g(1001)},style:{color:"antiquewhite",width:"20%",alignSelf:"center"}}),Object(O.jsx)("button",{style:{marginLeft:"8px"},onClick:function(){return j("")},children:"Clear"})]}),Object(O.jsxs)("div",{className:"flex-row",children:[Object(O.jsx)("button",{disabled:1001===h,onClick:function(){return g(h-1e3)},style:1001===h?{marginTop:"1%",marginBottom:"1%",marginRight:"10%",backgroundColor:"gray",borderColor:"gray"}:{marginTop:"1%",marginBottom:"1%",marginRight:"10%"},children:"Previous 1000 items"}),Object(O.jsxs)("h5",{style:{color:"antiquewhite"},children:["Available Genes (showing ",h-1e3," to ",h-1,")"]}),Object(O.jsx)("button",{disabled:h>C(),onClick:function(){return g(h+1e3)},style:h>C()?{marginTop:"1%",marginBottom:"1%",marginLeft:"10%",backgroundColor:"gray",borderColor:"gray"}:{marginTop:"1%",marginBottom:"1%",marginLeft:"10%"},children:"Next 1000 items"})]}),Object(O.jsxs)("table",{style:{width:"94%",marginLeft:"3%",marginRight:"3%",tableLayout:"fixed",wordBreak:"break-all"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:R}),Object(O.jsx)("tfoot",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{}),Object(O.jsx)("th",{})]})})]})]})]})};var C=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.assets.assetType})),n=Object(a.c)((function(e){return e.info.visible}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"App",style:n?{transition:"filter 0.3s ease-out",filter:"blur(10px) opacity(50%) brightness(50%)"}:{transition:"filter 0.3s ease-in"},children:[Object(O.jsx)(f,{}),Object(O.jsx)(y,{})]}),n&&Object(O.jsxs)("div",{style:{borderRadius:"15px",position:"absolute",top:"25vh",left:"25vw",width:"50%",backgroundColor:"gray",textAlign:"center"},children:[Object(O.jsx)("h3",{style:{color:"antiquewhite"},children:t}),Object(O.jsx)("p",{style:{margin:"3%"},children:"These plots depict the raw counts of PC-HiC observed interactions vs genomic distance from the bait locus. The p-values corresponding to the determined significance of each interaction are also plotted in red on a negative log scale."}),Object(O.jsx)("button",{onClick:function(){return e(m(!1))},style:{marginBottom:"3%"},children:"Close"})]})]})},R=new XMLHttpRequest;R.open("GET","/pchic-contactplotviewer/geneList/genes.txt",!1),R.send();var w={geneList:R.responseText.split(", ").map((function(e){return e.substring(0,e.length-4)}))},T=Object(l.b)({name:"geneList",initialState:w,reducers:{setGeneList:function(e,t){e.geneList=t.payload}}}),v=(T.actions.setGeneList,T.reducer),L=Object(l.a)({reducer:{assets:g,info:x,geneList:v}});o.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(a.a,{store:L,children:Object(O.jsx)(C,{})})}),document.getElementById("root"))},7:function(e,t,n){}},[[21,1,2]]]);
//# sourceMappingURL=main.256100b3.chunk.js.map